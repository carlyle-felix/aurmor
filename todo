[] write functions to reduce or eliminate dependance on system() (even though this is not intended to be portable).